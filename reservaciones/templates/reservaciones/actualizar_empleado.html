{% extends 'base.html' %}
{% load static %}
{% block title %}Actualizar Estatus (Empleado){% endblock %}

{% block content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="{% static 'reservaciones/css/gestion_admin.css' %}">

<div class="container">

    <div class="header-admin">
        <div class="d-flex align-items-center">
            <img src="{% static 'reservaciones/img/LOGO.png' %}" alt="Logo">
            <h2>Actualizar Estatus de Reservación</h2>
        </div>
    </div>

    <form method="POST" class="p-4 shadow-sm rounded-4">
        {% csrf_token %}
        <div class="row g-3">

            <div class="col-md-6">
                <label class="form-label fw-semibold text-secondary">Nombre del Cliente</label>
                <input type="text" name="nombreCliente" class="form-control" 
                       value="{{ reservacion.nombreCliente }}" disabled> 
                       </div>

            <div class="col-md-6">
                <label class="form-label fw-semibold text-secondary">Teléfono</label>
                <input type="text" name="telefono" class="form-control" 
                       value="{{ reservacion.telefono }}" disabled>
            </div>

            <div class="col-md-6">
                <label class="form-label fw-semibold text-secondary">Fecha del Evento</label>
                <input type="date" name="fechaEvento" class="form-control" 
                       value="{{ reservacion.fechaEvento|date:'Y-m-d' }}" disabled>
            </div>

            <div class="col-md-6">
                <label class="form-label fw-semibold text-secondary">Número de Invitados</label>
                <input type="number" name="numInvitados" class="form-control" 
                       value="{{ reservacion.numInvitados }}" disabled>
            </div>

            <div class="col-md-6">
                <label class="form-label fw-semibold text-secondary">Tipo de Evento</label>
                <input type="text" class="form-control" 
                       value="{{ reservacion.tipoEvento.nombre }}" disabled>
            </div>

            <div class="col-md-6">
                <label class="form-label fw-semibold text-secondary">Estatus</label>
                <select name="estatus" class="form-select">
                    {% if reservacion.estatus == "pendiente" %}
                        <option value="pendiente" selected>Pendiente</option>
                    {% else %}
                        <option value="pendiente">Pendiente</option>
                    {% endif %}

                    {% if reservacion.estatus == "confirmada" %}
                        <option value="confirmada" selected>Confirmada</option>
                    {% else %}
                        <option value="confirmada">Confirmada</option>
                    {% endif %}

                    {% if reservacion.estatus == "realizada" %}
                        <option value="realizada" selected>Realizada</option>
                    {% else %}
                        <option value="realizada">Realizada</option>
                    {% endif %}
                </select>
            </div>
        </div>

        <div class="text-center mt-4">
            <button type="submit" class="btn btn-actualizar">
                <i class="bi bi-check-circle"></i> Guardar Estatus
            </button>
            <a href="{% url 'gestion_empleado' %}" class="btn btn-regresar ms-2">
                <i class="bi bi-x-circle"></i> Cancelar
            </a>
        </div>
    </form>
</div>
{% endblock %} 